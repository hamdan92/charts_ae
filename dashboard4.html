<!DOCTYPE <!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Charts.ae</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" type="image/png" href="icons/favicon.ico"/>

    <link rel="stylesheet" type="text/css" media="screen" href="css/style.css" />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>


    <style type="text/css">
        body {
            background: #ededed !important;
        }

        img.icon {
            
            width: 10%;
            height:auto;
        }


        .card{
            height: 250px;
        }

   
    </style>
</head>

<body>

    <div class="container">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <a class="navbar-brand" href="#">Charts | بيانيات</a>
        </nav>

        <div class="jumbotron  bg-white">
                <h1 class="display-4">UAE Data to Visualizations</h1>
                <p class="lead">Welcome to Charts.ae, a non profit project aims to collect data and turn them to meaningful visualizations </p>
        </div>
        <div class="row">
            <div class="col">
                <div class="card m-2">
                    <div class="card-header">
                        Population
                    </div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><a href='dashboard3.html'>Abu Dhabi Population</a></li>
                        <li class="list-group-item"><a href=''>Abu Dhabi Population</a></li>


                      </ul>

                </div>

            </div>

            <div class="col">
                <div class="card m-2">
                    <div class="card-header">
                        Economy & Energy
                    </div>
                    <div id='lines2'></div>
                    <p class='text-muted'> <img class='icon' src="icons/baseline_touch_app_black_18dp.png"> <small>This chart is interactive, use mouse or touch to interact</small></p>
                    <div class="card-footer text-muted">last updated: Monday, December 31, 2018</div>

                </div>

            </div>
        </div>


        <div class="row">
            <div class="col">
                <div class="card m-2">
                    <div class="card-header">
                        Environment & Climate
                    </div>
                    <div id='pyramid'></div>
                    <p class='text-muted'> <img class='icon' src="icons/baseline_touch_app_black_18dp.png"> <small>This chart is interactive, use mouse or touch to interact</small></p>
                    <div class="card-footer text-muted">last updated: Monday, December 31, 2018</div>

                </div>

            </div>

            <div class="col">
                <div class="card m-2">
                    <div class="card-header">
                        Health & Education
                    </div>

                </div>

            </div>
        </div>

        <div class="row">
            <div class="col">
                <div class="card m-2">
                    <div class="card-header">
                        Culture, Langauge & Social Media
                    </div>

                </div>

            </div>

            <div class="col">
                <div class="card m-2">
                    <div class="card-header">
                        Locals Percentage Over Time
                    </div>
                    <div id='vertBar'></div>
                    <p class='text-muted'> <img class='icon' src="icons/baseline_touch_app_black_18dp.png"> <small>This chart is interactive, use mouse or touch to interact</small></p>
                    <div class="card-footer text-muted">last updated: Monday, December 31, 2018</div>

                </div>

            </div>
        </div>

        <div class="row">
            <div class="col">
                <div class="card m-2">
                    <div class="card-header">
                        Population Groups
                    </div>
                    <div id='popGroups'></div>
                    <p class='text-muted'> <img class='icon' src="icons/baseline_touch_app_black_18dp.png"> <small>This chart is interactive, use mouse or touch to interact</small></p>
                    <div class="card-footer text-muted">last updated: Monday, December 31, 2018</div>

                </div>

            </div>


        </div>

    </div>



    <script src="js/vert_bar.js"></script>
    <script src="js/pop_groups.js"></script>
    <script src="js/v2/pyramid.js"></script>
    <script src="js/v2/multi_line.js"></script>

    <script>
        d3.csv("data/ad_pop_total.csv").then(function (data) {



            var dataTotal = data;
            var dataLocal;
            var dataNLocal;



            d3.csv("data/ad_local_pop.csv").then(function (data1) {
                dataLocal = data1;

                d3.csv("data/ad_nlocal_pop.csv").then(function (data2) {
                    dataNLocal = data2;

                    data_sets = []
                    data_sets.push(data)
                    data_sets.push(dataNLocal)
                    data_sets.push(dataLocal)




                    drawLines(data_sets, ['Year', 'Total', 'NLocal', 'Local'], ['ffab00', 'orangered', 'green'], [], '#lines')



                });


            });





        });



        d3.csv("data/total_delta.csv").then(function (data) {



            var dataTotal = data;
            var dataLocal;
            var dataNLocal;



            d3.csv("data/local_delta.csv").then(function (data1) {
                dataLocal = data1;

                d3.csv("data/nlocal_delta.csv").then(function (data2) {
                    dataNLocal = data2;

                    data_sets = []
                    data_sets.push(data)
                    data_sets.push(dataNLocal)
                    data_sets.push(dataLocal)




                    drawLines(data_sets, ['Year', 'Total', 'NLocal', 'Local'], ['ffab00', 'orangered', 'green'], [], '#lines2')



                });


            });





        });

        d3.csv("data/ad_pop_local_nlocal.csv").then(function (data) {
            drawPyramid(data, ['Year', 'Locals', 'Foreigns'], ['#3388EE', '#EEAACC'], ['male', 'female'], '#pyramod')
        });

        d3.csv("pop_pyramid.csv").then(function (data) {
            drawPyramid(data, ['Year', 'Local Males', 'Local Females'], ['#3388EE', '#EEAACC'], ['male', 'female'], '#pyramid')
        });


        d3.csv("data/pyramid_nlocal.csv").then(function (data) {
            drawPyramid(data, ['Year', 'Foreign Males', 'Foreign Females'], ['#3388EE', '#EEAACC'], ['male', 'female'], '#npyramid')
        });



    </script>


</body>

</html>