<!DOCTYPE <!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="css/style.css" />
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>


    <style type="text/css">
        body {
            background: #ededed !important;
        }

        /* Adding !important forces the browser to overwrite the default style applied by Bootstrap */

        /*#vertBar {

    position: absolute;
    top: 10px;
    left: 10px;
    height: 500px;
    width: 500px;

    }

    #lines {

    position: absolute;
    top: 10px;
    left: 510;
    height: 500px;
    width: 500px;



    }

    #popGroups {

    position: absolute;
    top: 510px;
    left: 10px;
    height: 500px;
    width: 500px;


    }

    #pyramid {

    position: absolute;
    top: 510px;
    left: 510px;
    height: 500px;
    width: 500px;


    }*/
    </style>
</head>

<body>

    <div class="container">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <a class="navbar-brand" href="#">Charts | بيانيات</a>
        </nav>

        <div class="row m-2 bg-white">
            <div class="col ">
                <h1 class="display-4">Abu Dhabi Population</h1>
                <p class="lead">Abu Dhabi population from 1975 to 2015</p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="card m-2">
                    <div class="card-header">
                        Population Over Time 
                    </div>

                    <div id='lines' class="align-items-center"></div>

                    <div class="card-footer text-muted">last updated: 2 days ago</div>
                </div>

            </div>

            <div class="col">
                <div class="card m-2">
                    <div class="card-header">
                        Population Growth Over Time (5Y intervals)
                    </div>
                    <div id='lines2'></div>
                    <div class="card-footer text-muted">last updated: 2 days ago</div>

                </div>

            </div>
        </div>


        <div class="row">
            <div class="col">
                <div class="card m-2">
                    <div class="card-header">
                        Population Pyramid - Local Males vs Local Females
                    </div>
                    <div id='pyramid'></div>
                    <div class="card-footer text-muted">last updated: 2 days ago</div>

                </div>

            </div>

            <div class="col">
                <div class="card m-2">
                    <div class="card-header">
                        Population Pyramid - Foreign Males vs Foreign Females 
                    </div>
                    <div id='npyramid'></div>
                    <div class="card-footer text-muted">last updated: 2 days ago</div>

                </div>

            </div>
        </div>

        <div class="row">
                <div class="col">
                    <div class="card m-2">
                        <div class="card-header">
                                Population Pyramid - Locals Vs Foreigns 
                        </div>
                        <div id='pyramod'></div>
                        <div class="card-footer text-muted">last updated: 2 days ago</div>
    
                    </div>
    
                </div>
    
                <div class="col">
                    <div class="card m-2">
                        <div class="card-header">
                            Locals Percentage Over Time
                        </div>
                        <div id='vertBar'></div>
                        <div class="card-footer text-muted">last updated: 2 days ago</div>
    
                    </div>
    
                </div>
            </div>

            <div class="row">
                    <div class="col">
                        <div class="card m-2">
                            <div class="card-header">
                                Population Groups
                            </div>
                            <div id='popGroups'></div>
                            <div class="card-footer text-muted">last updated: 2 days ago</div>
        
                        </div>
        
                    </div>
        

                </div>

    </div>



    <script src="js/vert_bar.js"></script>
    <script src="js/pop_groups.js"></script>
    <script src="js/v2/pyramid.js"></script>
    <script src="js/v2/multi_line.js"></script>

    <script>
        d3.csv("data/ad_pop_total.csv").then(function (data) {



            var dataTotal = data;
            var dataLocal;
            var dataNLocal;



            d3.csv("data/ad_local_pop.csv").then(function (data1) {
                dataLocal = data1;

                d3.csv("data/ad_nlocal_pop.csv").then(function (data2) {
                    dataNLocal = data2;

                    data_sets=[]
                    data_sets.push(data)
                    data_sets.push(dataNLocal)
                    data_sets.push(dataLocal)




                    drawLines(data_sets,['Year','Total','NLocal','Local'] ,['ffab00','orangered','green'], [],'#lines')



                });


            });





        });



                d3.csv("data/total_delta.csv").then(function (data) {



var dataTotal = data;
var dataLocal;
var dataNLocal;



d3.csv("data/local_delta.csv").then(function (data1) {
    dataLocal = data1;

    d3.csv("data/nlocal_delta.csv").then(function (data2) {
        dataNLocal = data2;

        data_sets=[]
        data_sets.push(data)
        data_sets.push(dataNLocal)
        data_sets.push(dataLocal)




        drawLines(data_sets,['Year','Total','NLocal','Local'] ,['ffab00','orangered','green'], [],'#lines2')



    });


});





});

d3.csv("data/ad_pop_local_nlocal.csv").then(function (data) {
drawPyramid(data, ['Year','Locals','Foreigns'], ['#3388EE','#EEAACC'], ['male','female'], '#pyramod' )
});

d3.csv("pop_pyramid.csv").then(function (data) {
drawPyramid(data, ['Year','Local Males','Local Females'], ['#3388EE','#EEAACC'], ['male','female'], '#pyramid' )
});


d3.csv("data/pyramid_nlocal.csv").then(function (data) {
drawPyramid(data, ['Year','Foreign Males','Foreign Females'], ['#3388EE','#EEAACC'], ['male','female'], '#npyramid' )
});



    </script>


</body>

</html>